<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Project Gray Zone</title>
<link rel="stylesheet" href="style.css" />
<script src="https://unpkg.com/mammoth/mammoth.browser.min.js"></script>
</head>

<body class="lang-en" id="appRoot">
  <div class="top">
    <div class="brand" id="topBrand"></div>
    <div class="hint" id="topHint"></div>
  </div>

  <div class="page">
    <div class="wrap">
      <div class="left">
        <div class="leftInner">
          <div class="boxTitle" data-lang="zh">搜索</div>
          <div class="boxTitle" data-lang="en">Search</div>

          <div class="toolbar">
            <div class="searchRow">
              <input id="q" type="text" placeholder="Type keyword (Enter to search)" data-ph-zh="输入关键词（Enter搜索）" data-ph-en="Type keyword (Enter to search)" />
              <button class="btn" id="btnFind" type="button">Find</button>
            </div>

            <div class="btnRow">
              <button class="btn" id="btnPrev" type="button">◀ Prev</button>
              <button class="btn" id="btnNext" type="button">Next ▶</button>
              <button class="btn" id="btnClear" type="button">Clear</button>
            </div>

            <div class="searchMeta" id="searchMeta">0 results</div>

            <hr>

            <div class="boxTitle" data-lang="zh">视图</div>
            <div class="boxTitle" data-lang="en">View</div>

            <div class="viewRow">
              <button class="btn" id="btnHome" type="button" style="display:none;">Home</button>

              <div class="langToggle" aria-label="Language">
                <label>
                  <input type="radio" name="langPick" id="langEN" value="en">
                  EN
                </label>
                <label>
                  <input type="radio" name="langPick" id="langZH" value="zh">
                  中
                </label>
              </div>

              <div class="zoomGroup">
                <button class="btn" id="btnZoomOut" type="button">A-</button>
                <button class="btn" id="btnZoomIn" type="button">A+</button>
                <span class="zoomLabel" id="zoomLabel">100%</span>
              </div>

              <button class="btn" id="btnPdf" type="button">Download PDF</button>
            </div>

            <hr>

            <div class="boxTitle" data-lang="zh">目录</div>
            <div class="boxTitle" data-lang="en">Contents</div>

            <ul id="toc">
              <li><a href="#/" data-lang="zh">主页</a><a href="#/" data-lang="en">Home</a></li>
              <li><a href="#/articles" data-lang="zh">文章列表</a><a href="#/articles" data-lang="en">Articles</a></li>
              <li><a href="#/about" data-lang="zh">说明</a><a href="#/about" data-lang="en">Notes</a></li>
            </ul>

            <hr>

            <div class="small" data-lang="zh">提示：文内搜索会高亮匹配项，并可 Prev/Next 跳转。</div>
            <div class="small" data-lang="en">Tip: Search highlights matches and lets you jump Prev/Next.</div>
          </div>
        </div>
      </div>

      <div class="right">
        <div class="scrollPane" id="scrollPane">
          <div class="doc" role="document" id="doc">

            <div id="viewHome">
              <div class="homeHero">
                <div class="homeTitle" data-lang="en">Kalyna Field Notes</div>
                <div class="homeTitle" data-lang="zh">Kalyna 前线笔记</div>
            
                <p class="homeLead" data-lang="en">
                  Kalyna Field Notes is a lightweight reading desk for analytical field notes,
                  operational briefs, and reference documents related to contemporary conflict
                  environments. The archive is designed for clear reading, search, and citation
                  of structured research materials.
                </p>
                <p class="homeLead" data-lang="zh">
                  Kalyna 前线笔记是一个用于整理与阅读分析性前线笔记、行动简报及参考资料的轻量归档平台，
                  面向当代冲突环境研究与信息整理。本站提供结构化文档的阅读、检索与引用支持。
                </p>
            
                <div class="homeInfo">
                  <p data-lang="en">
                    Documents are presented in their original academic layout converted from DOCX.
                    Use the search panel to locate terms within the current view, and the zoom tools
                    to adjust reading scale. All entries open in a unified reading interface.
                  </p>
                  <p data-lang="zh">
                    文档以 DOCX 学术排版原貌转换呈现。可使用左侧搜索定位当前页面内容，
                    并通过缩放工具调整阅读比例。所有条目均在统一阅读界面中打开。
                  </p>
                </div>
              </div>
            
              <h2 id="articlesTitle" data-lang="en">Archive Entries</h2>
              <h2 id="articlesTitleZH" data-lang="zh">档案条目</h2>
            
              <ol class="articleList" id="articleList"></ol>
            
              <hr>
            
              <div class="homeLegal">
                <p data-lang="en">
                  © Kalyna Field Notes. All rights reserved.<br>
                  This archive is intended for research, educational, and analytical use.
                  Content does not constitute operational guidance or official reporting.
                </p>
            
                <p data-lang="zh">
                  © Kalyna 前线笔记 保留所有权利。<br>
                  本档案仅用于研究、教育与分析目的，
                  不构成行动指导或官方信息发布。
                </p>
              </div>
            </div>

            <div id="viewArticle" style="display:none;">
              <div id="top"></div>
              <h1 id="articleTitle">
                <span data-lang="en">Loading…</span>
                <span data-lang="zh">正在加载…</span>
              </h1>

              <div id="articleEN" data-lang="en"></div>
              <div id="articleZH" data-lang="zh"></div>
            </div>

            <div id="viewAbout" style="display:none;">
              <h1>
                <span data-lang="en">NOTES</span>
                <span data-lang="zh">说明</span>
              </h1>

              <p data-lang="en" style="text-indent:0;">
                This tool loads DOCX from the repository and converts it to HTML in the browser. Legacy .doc is not supported in a reliable way on pure static hosting.
              </p>
              <p data-lang="zh" style="text-indent:0;">
                本工具从仓库加载 DOCX 并在浏览器中转为 HTML。老式 .doc 在纯静态托管下无法可靠解析，建议统一转为 .docx。
              </p>
            </div>

          </div>
        </div>
      </div>

    </div>
  </div>

<script src="app.js"></script>
</body>
</html>
