<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Project Gray Zone</title>
<link rel="stylesheet" href="style.css" />
<script src="https://unpkg.com/mammoth/mammoth.browser.min.js"></script>
</head>

<body class="lang-en" id="appRoot">
  <div class="top">
    <div class="brand" id="topBrand"></div>
    <div class="hint" id="topHint"></div>
  </div>

  <div class="page">
    <div class="wrap">
      <div class="left">
        <div class="leftInner">
          <div class="boxTitle" data-lang="zh">搜索</div>
          <div class="boxTitle" data-lang="en">Search</div>

          <div class="toolbar">
            <div class="searchRow">
              <input id="q" type="text" placeholder="Type keyword (Enter to search)" data-ph-zh="输入关键词（Enter搜索）" data-ph-en="Type keyword (Enter to search)" />
              <button class="btn" id="btnFind" type="button">Find</button>
            </div>

            <div class="btnRow">
              <button class="btn" id="btnPrev" type="button">◀ Prev</button>
              <button class="btn" id="btnNext" type="button">Next ▶</button>
              <button class="btn" id="btnClear" type="button">Clear</button>
            </div>

            <div class="searchMeta" id="searchMeta">0 results</div>

            <hr>

            <div class="boxTitle" data-lang="zh">视图</div>
            <div class="boxTitle" data-lang="en">View</div>

            <div class="viewRow">
              <button class="btn" id="btnHome" type="button" style="display:none;">Home</button>

              <div class="langToggle" aria-label="Language">
                <label>
                  <input type="radio" name="langPick" id="langEN" value="en">
                  EN
                </label>
                <label>
                  <input type="radio" name="langPick" id="langZH" value="zh">
                  中
                </label>
              </div>

              <div class="zoomGroup">
                <button class="btn" id="btnZoomOut" type="button">A-</button>
                <button class="btn" id="btnZoomIn" type="button">A+</button>
                <span class="zoomLabel" id="zoomLabel">100%</span>
              </div>

              <button class="btn" id="btnPdf" type="button">Download PDF</button>
            </div>

            <hr>

            <div class="boxTitle" data-lang="zh">目录</div>
            <div class="boxTitle" data-lang="en">Contents</div>

            <ul id="toc">
              <li><a href="#/" data-lang="zh">主页</a><a href="#/" data-lang="en">Home</a></li>
              <li><a href="#/articles" data-lang="zh">文章列表</a><a href="#/articles" data-lang="en">Articles</a></li>
              <li><a href="#/about" data-lang="zh">说明</a><a href="#/about" data-lang="en">Notes</a></li>
            </ul>

            <hr>

            <div class="small" data-lang="zh">提示：文内搜索会高亮匹配项，并可 Prev/Next 跳转。</div>
            <div class="small" data-lang="en">Tip: Search highlights matches and lets you jump Prev/Next.</div>
          </div>
        </div>
      </div>

      <div class="right">
        <div class="scrollPane" id="scrollPane">
          <div class="doc" role="document" id="doc">

            <section id="viewHome">
              <div class="homeHero">
                <div class="homeTitle" data-lang="en">Kalyna Field Notes</div>
                <div class="homeTitle" data-lang="zh">Kalyna 前线笔记</div>
            
                <div class="homeLead" data-lang="en">
                  A lightweight reading desk for field notes, briefs, and references.
                  Open an entry below to read with search, zoom, and print.
                </div>
                <div class="homeLead" data-lang="zh">
                  一个轻量的阅读桌面，用于整理前线笔记、简报与参考资料。
                  选择下方条目即可进入全文阅读，并支持搜索、缩放与打印。
                </div>
            
                <div class="homeActions">
                  <a class="btn" href="#/articles" data-lang="en">Browse Articles</a>
                  <a class="btn" href="#/articles" data-lang="zh">浏览文章</a>
            
                  <a class="btn" href="#/about" data-lang="en">About</a>
                  <a class="btn" href="#/about" data-lang="zh">关于</a>
                </div>
            
                <div class="homeTips">
                  <div class="homeTip" data-lang="en">
                    <b>Tip:</b> The search box highlights matches in the current view (home / article / about).
                  </div>
                  <div class="homeTip" data-lang="zh">
                    <b>提示：</b>左侧搜索框会在当前页面（主页/文章/关于）高亮匹配内容。
                  </div>
                </div>
              </div>
            
              <h2 class="homeSection" data-lang="en">Latest Entries</h2>
              <h2 class="homeSection" data-lang="zh">最新条目</h2>
            
              <ul id="articleList" class="homeList"></ul>
            
              <div class="homeFoot small" data-lang="en">
                This is a static archive viewer. Content is for research and educational use.
              </div>
              <div class="homeFoot small" data-lang="zh">
                KFN 是一个静态归档阅读器。内容用于研究与教育用途。
              </div>
            </section>

            <div id="viewArticle" style="display:none;">
              <div id="top"></div>
              <h1 id="articleTitle">
                <span data-lang="en">Loading…</span>
                <span data-lang="zh">正在加载…</span>
              </h1>

              <div id="articleEN" data-lang="en"></div>
              <div id="articleZH" data-lang="zh"></div>
            </div>

            <div id="viewAbout" style="display:none;">
              <h1>
                <span data-lang="en">NOTES</span>
                <span data-lang="zh">说明</span>
              </h1>

              <p data-lang="en" style="text-indent:0;">
                This tool loads DOCX from the repository and converts it to HTML in the browser. Legacy .doc is not supported in a reliable way on pure static hosting.
              </p>
              <p data-lang="zh" style="text-indent:0;">
                本工具从仓库加载 DOCX 并在浏览器中转为 HTML。老式 .doc 在纯静态托管下无法可靠解析，建议统一转为 .docx。
              </p>
            </div>

          </div>
        </div>
      </div>

    </div>
  </div>

<script src="app.js"></script>
</body>
</html>
